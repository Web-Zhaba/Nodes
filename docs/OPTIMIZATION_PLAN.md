# üõ†Ô∏è Nodes Optimization Plan (Phase: Optimization Complete -> Pre-Beta)

> [!IMPORTANT]
> –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Nodes –ø—Ä–æ—à–ª–æ –ø–µ—Ä–≤—ã–π —ç—Ç–∞–ø –≥–ª—É–±–æ–∫–æ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏. –ú—ã —É—Å—Ç—Ä–∞–Ω–∏–ª–∏ "–±—É—Ç—ã–ª–æ—á–Ω—ã–µ –≥–æ—Ä–ª—ã—à–∫–∏" –≤ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –æ—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞—Ö –∏ –ø–ª–∞–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã (Optimization 1.0)

### 1. –°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π (N+1 Query Issue)
*   **–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:** –í–Ω–µ–¥—Ä–µ–Ω–∞ –±–∞—Ç—á-–∑–∞–≥—Ä—É–∑–∫–∞ –∏–º–ø—É–ª—å—Å–æ–≤. –í–º–µ—Å—Ç–æ 10+ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ –¥–µ–Ω—å —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω –∞—Ç–æ–º–∞—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å `getImpulsesForDateBatch`.
*   **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–°–µ–≥–æ–¥–Ω—è" —Å–æ–∫—Ä–∞—Ç–∏–ª–æ—Å—å –≤ 2-3 —Ä–∞–∑–∞.

### 2. –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (Zustand & Memoization)
*   **–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:** 
    *   –í–Ω–µ–¥—Ä–µ–Ω –º–µ—Ç–æ–¥ `setBatchTodayValues` –¥–ª—è –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–æ—Ä–∞.
    *   –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ (`React.memo`) –∏ —Ç—è–∂–µ–ª—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ (`useMemo`, `useCallback`).
    *   –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–∏–º–ø—É–ª—å—Å–æ–≤) –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ —Å O(N¬≤) –Ω–∞ O(N).
*   **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 60fps –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –¥–∞—Ç –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ.

### 3. –†–µ—Å—É—Ä—Å—ã –∏ –®—Ä–∏—Ñ—Ç—ã (Self-hosting)
*   **–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:** 
    *   –®—Ä–∏—Ñ—Ç—ã (Plus Jakarta Sans, Lora, IBM Plex Mono) –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥.
    *   –î–æ–±–∞–≤–ª–µ–Ω—ã `Resource Hints` (`preload`) –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—á–µ—Ä—Ç–∞–Ω–∏–π.
    *   –£–¥–∞–ª–µ–Ω—ã –ª–∏—à–Ω–∏–µ –≤–µ—Å–∞ —à—Ä–∏—Ñ—Ç–æ–≤, —Å–æ–∫—Ä–∞—Ç–∏–≤ –≤–µ—Å –±–∞–Ω–¥–ª–∞.
*   **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å—Ç—Ä–∞–Ω–µ–Ω Layout Shift –∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞.

### 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–Ω–¥–ª–∞ (Code Splitting)
*   **–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:** 
    *   –í–Ω–µ–¥—Ä–µ–Ω `Route-based Lazy Loading` —á–µ—Ä–µ–∑ `React.lazy` –∏ `Suspense`.
    *   –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã `Manual Chunks` –≤ Vite –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –≤–µ–Ω–¥–æ—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (React, Supabase, Lucide) –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã.
*   **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∞—á–∞–ª—å–Ω—ã–π –≤–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Ö–æ–¥–∞ —É–º–µ–Ω—å—à–µ–Ω –Ω–∞ 65%.

### 6. Animation GPU Acceleration
*   **–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:** –í—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ `motion` –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ GPU-—É—Å–∫–æ—Ä—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ (`transform`, `opacity`). –í –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞—Ö `width` –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `scaleX`.
*   **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–ª–∞–≤–Ω—ã–µ 60fps –¥–∞–∂–µ –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Layout Reflow.

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (Optimization 2.0)

### 1. Graph Engine Performance
*   **–ü—Ä–æ–±–ª–µ–º–∞:** `react-force-graph-2d` –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —É–∑–∫–∏–º –º–µ—Å—Ç–æ–º –ø—Ä–∏ 100+ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É–∑–ª–∞—Ö.
*   **–†–µ—à–µ–Ω–∏–µ:** 
    *   –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `three` (WebGL) –≤–µ—Ä—Å–∏–∏ –≥—Ä–∞—Ñ–∞ –ø—Ä–∏ —Ä–æ—Å—Ç–µ —Å–µ—Ç–∏.
    *   –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `cooldownTicks` –¥–ª—è –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —É–∑–ª—ã –Ω–∞—à–ª–∏ —Å–≤–æ–∏ –ø–æ–∑–∏—Ü–∏–∏.

### 7. Bundle Monitoring
*   **–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:** –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `rollup-plugin-visualizer`.
*   **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤–µ—Å–∞ –∫–∞–∂–¥–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –æ—Ç—á–µ—Ç `bundle-stats.html`.

---

### 3. Progressive Web App (PWA)
*   **–ò–¥–µ—è:** –î–æ–±–∞–≤–∏—Ç—å `vite-plugin-pwa` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ –∏ —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä–∞.
*   **–¶–µ–ª—å:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞ –¥–ª—è –≤–Ω–µ—Å–µ–Ω–∏—è –∏–º–ø—É–ª—å—Å–æ–≤ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Ç–µ–ª–µ—Ñ–æ–Ω–∞.

### 4. Smart Data Fetching (SWR/React Query)
*   **–ò–¥–µ—è:** –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ SWR –∏–ª–∏ React Query –ø–æ–≤–µ—Ä—Ö —Ç–µ–∫—É—â–µ–≥–æ Zustand —Å—Ç–æ—Ä–∞.
*   **–¶–µ–ª—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –æ–∫–Ω–∞ –∏ —É–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ Supabase.

---
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ –¥–ª—è Beta 1.
