# üõ† TECHNICAL SPECIFICATION: Nodes Tracker

## 1. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Frontend:** React 19 + Vite 7 + TypeScript
- **State Management:** Zustand (–∞—Ç–æ–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º)
- **Styling:** Tailwind CSS v4 + Shadcn UI
- **Backend/DB:** Supabase (PostgreSQL + Auth + Edge Functions)
- **Graph Engine:** `react-force-graph-2d` (D3-force)

## 2. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (Database Schema)
–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `docs/SCHEMA.sql`.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:
- **Profiles:** –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `auth.users`.
- **Nodes:** –£–∑–ª—ã –¥–µ–π—Å—Ç–≤–∏–π. –¢–∏–ø—ã: `binary`, `quantity`, `duration`.
- **Cores:** –ì—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —É–∑–ª–æ–≤.
- **Connectors:** –¢–µ–≥–∏-—Å–≤—è–∑–∫–∏ (Many-to-Many —Å —É–∑–ª–∞–º–∏ —á–µ—Ä–µ–∑ `node_connectors`).
- **Impulses:** –ó–∞–ø–∏—Å–∏ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ (Pulse). –•—Ä–∞–Ω—è—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (`value`) –∏ –¥–∞—Ç—É.
- **Connections:** –ü—Ä—è–º—ã–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ (—É—Å–∏–ª–∏–≤–∞–µ—Ç, –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏ —Ç.–¥.).

## 3. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (Edge Functions)
–†–∞—Å—á—ë—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–Ω–µ—Å–µ–Ω –≤ Supabase Edge Functions –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏.

### –ê–ª–≥–æ—Ä–∏—Ç–º `calculate-stability`:
–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∑–∞—Ç—É—Ö–∞–Ω–∏—è:
- **–í–µ—Å –∏–º–ø—É–ª—å—Å–∞:** `w = e^(-decay * days_ago)`
- **–ü–µ—Ä–∏–æ–¥ –ø–æ–ª—É—Ä–∞—Å–ø–∞–¥–∞:** 7 –¥–Ω–µ–π (binary), 5 –¥–Ω–µ–π (quantity), 10 –¥–Ω–µ–π (duration).
- **Overdrive:** x1.5 –±–æ–Ω—É—Å –∑–∞ –ø–µ—Ä–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `target_value`.

## 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Frontend
–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω–æ–º—É **FSD (Feature-Sliced Design)**:
- `entities/` ‚Äî –±–∞–∑–æ–≤—ã–µ –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏ (Node, Core, Connector)
- `features/` ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏—á–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–∞, —Ä–∞—Å—á—ë—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- `widgets/` ‚Äî —Å–ª–æ–∂–Ω—ã–µ –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Layout, Sidebar)
- `store/` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–æ—Ä—ã Zustand (`useNodesStore`, `useAppStore`)

## 5. UI & Design Rules
- **–î–∏–∑–∞–π–Ω:** Modern Dark (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è `1.4rem`.
- **–¶–≤–µ—Ç–∞:** –ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π (Azure/Cyberpunk style).
- **–ò–∫–æ–Ω–∫–∏:** Lucide React.
- **Node Card:**
    - –ò–∫–æ–Ω–∫–∞ –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É.
    - Progress bar —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ (0-100%).
    - –î–æ 3-—Ö —Ç–µ–≥–æ–≤-–∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ.
    - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `node_type`.
